(this.webpackJsonppokemons=this.webpackJsonppokemons||[]).push([[0],{62:function(e,t,a){e.exports=a(75)},67:function(e,t,a){},70:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),s=a.n(c),l=a(15),i=(a(67),a(13)),o=a(44),u=a(52),m=a(53),f=a(5);function d(){return Object(n.useContext)(l.a).mainStore}var p=function(){function e(){Object(u.a)(this,e),this.filterName="",this.loading=!0,this.loadingImage=!1,this.colorTypes={},this.errors=[],this.filterTypes={},this.data={},this.limit=10,this.page=0,this.modal=!1}return Object(m.a)(e,[{key:"setFilter",value:function(e){this.filterName=e}},{key:"setLoading",value:function(e){this.loading=e}},{key:"setColorTypes",value:function(e){this.colorTypes=e}},{key:"setErrors",value:function(e){this.errors=e}},{key:"setFilterTypes",value:function(e){var t=Object(o.a)({},this.filterTypes);t[e]?delete t[e]:t[e]=!0,this.filterTypes=t}},{key:"setData",value:function(e){this.data=e}},{key:"setLimit",value:function(e){this.limit=e,this.loading=!0}},{key:"setPage",value:function(e){this.page=e,this.loading=!0}},{key:"setModal",value:function(e){this.modal=e,this.loadingImage=!0}},{key:"setLoadingImage",value:function(e){this.loadingImage=e}},{key:"filteredData",get:function(){var e=this,t=[],a=[];return t=this.filterName&&this.data.list?this.data.list.filter((function(t){return-1!==t.name.toLowerCase().indexOf(e.filterName.toLowerCase())})):this.data.list?this.data.list:[],Object.keys(this.filterTypes).length&&t.length?t.map((function(t){var n=!1;return t.types.map((function(t){return e.filterTypes[t.type.name]&&(n=!0),null})),n&&a.push(t),null})):a=t,a}}]),e}();Object(f.j)(p,{filterName:f.o,loading:f.o,loadingImage:f.o,colorTypes:f.o,errors:f.o,filterTypes:f.o,data:f.o,limit:f.o,page:f.o,modal:f.o,filteredData:f.g,setFilter:f.f,setLoading:f.f,setColorTypes:f.f,setErrors:f.f,setFilterTypes:f.f,setData:f.f,setLimit:f.f,setPage:f.f,setModal:f.f,setLoadingImage:f.f});a(70);var g=a(123),h=a(113),v=a(114),y=a(111),b=a(23),E=a.n(b),_=a(31),k=a(126),N=a(129);function w(){var e=Object(n.useRef)(null),t=d();return Object(i.d)((function(){return r.a.createElement(k.a,{open:!!t.modal,onClose:function(){t.setModal(!1)},BackdropComponent:N.a,BackdropProps:{timeout:500},"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:"modal",onRendered:function(){!function(a){var n=document.createElement("img");n.srcset="https://pokeres.bastionbot.org/images/pokemon/".concat(t.modal.id,".png"),n.onload=Object(_.a)(E.a.mark((function r(){return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c=a.id,fetch("https://pokeapi.co/api/v2/pokemon-species/".concat(c)).then((function(e){return e.json()})).then(function(){var e=Object(_.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",Object(o.a)({},t.flavor_text_entries.find((function(e){return"en"===e.language.name&&"x"===e.version.name}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return{}}));case 2:a.desc=r.sent,e.current.append(n),t.setLoadingImage(!1);case 5:case"end":return r.stop()}var c}),r)})))}(t.modal)}},r.a.createElement("div",{className:"modal__body"},!t.loadingImage&&r.a.createElement("div",{className:"modal__title"},t.modal.name),r.a.createElement("div",{className:"modal__image",ref:e},t.loadingImage&&r.a.createElement("div",{className:"progress"},r.a.createElement(y.a,{color:"primary"}))),t.modal.desc&&r.a.createElement("div",{className:"modal__desc"},t.modal.desc.flavor_text)))}))}var j=a(124);function T(){var e=d(),t=[10,20,50],a=function(t,a){e.setPage(a)},n=function(t){var a=t.target;e.setLimit(a.value)};return Object(i.d)((function(){return r.a.createElement(j.a,{rowsPerPageOptions:t,component:"div",count:e.data.count?e.data.count:0,rowsPerPage:e.limit,page:e.page,onChangePage:a,onChangeRowsPerPage:n,className:"pagination"})}))}var O=a(116),x=a(117),C=a(118),L=a(119),P=a(112),I=a(120),F=a(128),D=a(121),B=a(122);var M=Object(l.c)((function(){var e="https://pokeapi.co/api/v2",t=Object(n.useRef)(null),a=d();Object(n.useEffect)((function(){fetch("".concat(e,"/type/")).then((function(e){return e.json()})).then((function(e){if(e&&e.results){var t={};e.results.map((function(e){return t[e.name]=function(e){switch(e){case"normal":return"#9a9a9a";case"fighting":return"#2b44d8";case"flying":return"#7bd8ea";case"poison":return"#afc741";case"ground":return"#382929";case"rock":return"#545454";case"bug":return"#000000";case"ghost":return"#8c9ca5";case"steel":return"#8395ff";case"fire":return"#f9414d";case"water":return"#1180bb";case"grass":return"#2a5f2f";case"electric":return"#eccd30";case"psychic":return"#f049ff";case"ice":return"#0099fd";case"dragon":return"#de4e01";case"dark":return"#313131";case"fairy":return"#6e2ede";case"unknown":return"#000000";case"shadow":return"#ffbfc9";default:return"#ffffff"}}(e.name),null})),a.setColorTypes(t)}})).catch((function(e){a.setLoading(!1),a.setErrors([e.message])}))}),[]),Object(n.useEffect)((function(){var t,n;t=a.limit,n=a.page*a.limit,fetch("".concat(e,"/pokemon/?limit=").concat(t,"&offset=").concat(n)).then((function(e){return e.json()})).then(function(){var e=Object(_.a)(E.a.mark((function e(t){var n,r,s,l,i,o,u;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.results){e.next=33;break}n=[],r=!0,s=!1,l=void 0,e.prev=5,i=t.results[Symbol.iterator]();case 7:if(r=(o=i.next()).done){e.next=17;break}return u=o.value,e.t0=n,e.next=12,c(u.url);case 12:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 14:r=!0,e.next=7;break;case 17:e.next=23;break;case 19:e.prev=19,e.t2=e.catch(5),s=!0,l=e.t2;case 23:e.prev=23,e.prev=24,r||null==i.return||i.return();case 26:if(e.prev=26,!s){e.next=29;break}throw l;case 29:return e.finish(26);case 30:return e.finish(23);case 31:a.setData({count:t.count,list:n}),a.setLoading(!1);case 33:case"end":return e.stop()}}),e,null,[[5,19,23,31],[24,,26,30]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){a.setLoading(!1),a.setErrors([e.message])}))}),[a.limit,a.page]);var c=function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e.types&&e.types.map((function(e){return e.color=a.colorTypes[e.type.name],null})),e})).catch((function(e){return console.log(e.message)}))};return Object(n.useEffect)((function(){t.current.scrollTop=0}),[a.data]),r.a.createElement(O.a,{className:"wrap-table",ref:t},r.a.createElement(x.a,{stickyHeader:!0,"aria-label":"sticky table",className:"table",color:"secondary"},r.a.createElement(C.a,null,r.a.createElement(L.a,null,r.a.createElement(P.a,{align:"center",className:"table__head-cell"},"Image"),r.a.createElement(P.a,{align:"center",className:"table__head-cell"},"Name"),r.a.createElement(P.a,{align:"center",className:"table__head-cell"},"Types"),r.a.createElement(P.a,{align:"center",className:"table__head-cell"},"Stats"))),r.a.createElement(I.a,null,a.filteredData.map((function(e){return r.a.createElement(L.a,{key:e.name,className:"table__row",onClick:function(){return function(e){a.setModal(e)}(e)}},r.a.createElement(P.a,{align:"center",className:"table__cell table__cell--pic"},e.sprites&&r.a.createElement("div",{className:"picture"},r.a.createElement("img",{src:e.sprites.front_default,alt:e.name}))),r.a.createElement(P.a,{align:"center",className:"table__cell table__cell--name"},r.a.createElement("div",{className:"name"},e.name)),r.a.createElement(P.a,{align:"center",className:"table__cell"},r.a.createElement("div",{className:"table__types"},e.types&&e.types.map((function(e){return r.a.createElement(F.a,{key:e.type.name,className:"type",style:{backgroundColor:e.color},label:e.type.name})})))),r.a.createElement(P.a,{align:"center",className:"table__cell"},e.stats&&r.a.createElement(D.a,{className:"list"},e.stats.map((function(e){return r.a.createElement("div",{key:e.stat.name,className:"stat"},r.a.createElement("div",{className:"stat__title"},e.stat.name),r.a.createElement("div",{className:"stat__wrap"},r.a.createElement("span",{className:"stat__label"},e.base_stat),r.a.createElement(B.a,{value:(t=e.base_stat,100*(t-0)/200),variant:"determinate",className:"stat__progress"})));var t})))))})))))})),R=a(58),S=a.n(R);function J(){var e=d();return Object(i.d)((function(){return r.a.createElement("div",{className:"filterType"},r.a.createElement("div",{className:"filterType__title"},"Filter by type:"),e.colorTypes&&r.a.createElement("div",{className:"filterType__list"},Object.keys(e.colorTypes).map((function(t){return r.a.createElement("div",{key:t,className:S()("filterType__item",{"filterType__item--active":e.filterTypes[t]}),style:{backgroundColor:e.colorTypes[t]},onClick:function(){e.setFilterTypes(t)}},t)}))))}))}var W=a(115);function A(){var e=d();return Object(i.d)((function(){return r.a.createElement("div",{className:"filterName"},r.a.createElement("div",{className:"filterName__title"},"Filter by name:"),r.a.createElement("div",null,r.a.createElement(W.a,{value:e.filterName,onChange:function(t){var a=t.target;e.setFilter(a.value)},className:"filterName__input",placeholder:"Enter name..."})))}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=new p;s.a.render(r.a.createElement(l.b,{mainStore:H},r.a.createElement((function(){var e=d();return Object(i.d)((function(){return r.a.createElement("div",{className:"App"},r.a.createElement(g.a,{position:"static",color:"primary"},r.a.createElement(h.a,null,r.a.createElement(v.a,{variant:"h4",className:"title"},"Pokedex"))),e.errors&&e.errors.length>0?r.a.createElement("div",{className:"error"},e.errors.map((function(e,t){return r.a.createElement("div",{key:t},e)}))):r.a.createElement("div",{className:"main"},e.loading&&r.a.createElement("div",{className:"progress"},r.a.createElement(y.a,{color:"primary"})),r.a.createElement(A,null),r.a.createElement(J,null),r.a.createElement(M,null),r.a.createElement(T,null)),r.a.createElement(w,null))}))}),null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[62,1,2]]]);
//# sourceMappingURL=main.ea037db3.chunk.js.map